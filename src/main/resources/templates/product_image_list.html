<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<title>商品画像管理</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
	<div class="container my-4">
		<h3>商品画像管理</h3>

		<form method="post" th:action="@{/admin/product-images/upload}" enctype="multipart/form-data">
			<div class="mb-3">
				<label>商品ID</label>
				<input type="number" name="productId" class="form-control" required>
			</div>
			<div class="mb-3">
				<label>画像ファイル</label>
				<input type="file" name="image" class="form-control" multiple required>
			</div>
			<button class="btn btn-primary">アップロード</button>
		</form>

		<hr>

		<table class="table table-striped">
			<thead>
				<tr>
					<th>画像ID</th>
					<th>商品ID</th>
					<th>画像</th>
					<th>操作</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="img : ${images}">
					<td th:text="${img.imageId}"></td>
					<td th:text="${img.productId}"></td>
					<td>
						<img th:src="@{${img.imageUrl}}" style="width:100px; height:auto;">
					</td>
					<td>
						<a class="btn btn-danger btn-sm"
							th:href="@{'/admin/product-images/delete/' + ${img.imageId}}">削除</a>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</body>

</html>