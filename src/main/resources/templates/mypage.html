<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ãƒã‚¤ãƒšãƒ¼ã‚¸ - Lifesens</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" defer></script>
    <style>
        body { background-color: #f5f6f8; }
        .sidebar { min-height: 100vh; background-color: #ffffff; padding-top: 20px; }
        .sidebar a { padding: 10px; text-decoration: none; display: block; color: #000; }
        .sidebar a:hover { background-color: #f1f1f1; }
    </style>
</head>
<body>

<div th:replace="fragments/header.html :: headerFragment"></div>

<div class="container-fluid mt-4">
    <div class="row">
        <div class="col-md-3 sidebar">
			<a th:href="@{/mypage/order-history}">æ³¨æ–‡å±¥æ­´</a>
            <a th:href="@{/mypage/info}">ä¼šå“¡æƒ…å ±</a>
            <a href="#">ã‚¯ãƒ¼ãƒãƒ³</a>
            <a th:href="@{/mypage/security}">ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£</a>
        </div>
        <div class="col-md-9">
            <h3>ã‚ˆã†ã“ãã€ãƒã‚¤ãƒšãƒ¼ã‚¸ã¸ï¼</h3>
            <p>å·¦ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰æƒ…å ±ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚</p>
        </div>
    </div>
</div>

<!-- ğŸ›’ ã‚«ãƒ¼ãƒˆOffcanvas -->
<div class="offcanvas offcanvas-end" tabindex="-1" id="cartDrawer" aria-labelledby="cartDrawerLabel">
    <div class="offcanvas-header">
        <h5 id="cartDrawerLabel">ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°ã‚«ãƒ¼ãƒˆ</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="é–‰ã˜ã‚‹"></button>
    </div>
    <div class="offcanvas-body"></div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const cartButton = document.querySelector('[data-bs-target="#cartDrawer"]');
        const cartDrawerEl = document.getElementById("cartDrawer");

        if (cartButton && cartDrawerEl) {
            const cartDrawer = new bootstrap.Offcanvas(cartDrawerEl);
            cartButton.addEventListener("click", function () {
                fetch("/cart/fragment")
                    .then(res => res.text())
                    .then(html => {
                        cartDrawerEl.querySelector(".offcanvas-body").innerHTML = html;
                        cartDrawer.show();
                    })
                    .catch(err => console.error("è´­ç‰©è½¦åˆ·æ–°å¤±è´¥:", err));
            });
        }
    });
</script>
<div th:replace="fragments/cart_script.html"></div>
</body>
</html>
